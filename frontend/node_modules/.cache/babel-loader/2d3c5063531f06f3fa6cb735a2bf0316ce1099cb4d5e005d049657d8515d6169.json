{"ast":null,"code":"var _jsxFileName = \"/Users/danreid/Library/CloudStorage/OneDrive-UniversityofEastLondon/Year 3/cn6035 - Mobile and Distributed Systems/Coursework/attendance-dapp/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport AttendanceABI from './Attendance.json';\n\n// Update this with your deployed contract address!\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CONTRACT_ADDRESS = \"0xb7f8bc63bbcad18155201308c8f3540b07f84f5e\";\nconst App = () => {\n  _s();\n  const [contract, setContract] = useState(null);\n  const [account, setAccount] = useState(\"\");\n  const [attendance, setAttendance] = useState(0);\n  const [studentName, setStudentName] = useState(\"\");\n  const [studentAddress, setStudentAddress] = useState(\"\");\n  const [students, setStudents] = useState([]);\n  useEffect(() => {\n    const init = async () => {\n      try {\n        if (window.ethereum) {\n          const provider = new ethers.BrowserProvider(window.ethereum);\n          await window.ethereum.request({\n            method: 'eth_requestAccounts'\n          });\n          const signer = await provider.getSigner();\n          const contractInstance = new ethers.Contract(CONTRACT_ADDRESS, AttendanceABI.abi, signer);\n          setContract(contractInstance);\n          const userAccount = await signer.getAddress();\n          setAccount(userAccount);\n          const initialAttendance = await contractInstance.getAttendance(userAccount);\n          setAttendance(Number(initialAttendance));\n\n          // Fetch all students\n          const studentCount = Number(await contractInstance.getStudentCount());\n          const fetchedStudents = [];\n          for (let i = 0; i < studentCount; i++) {\n            const addr = await contractInstance.studentAddresses(i);\n            const data = await contractInstance.students(addr);\n            fetchedStudents.push({\n              address: addr,\n              name: data.name,\n              count: Number(data.attendanceCount)\n            });\n          }\n          setStudents(fetchedStudents);\n        } else {\n          console.error(\"Ethereum provider not found. Please install MetaMask.\");\n        }\n      } catch (error) {\n        console.error(\"Initialization error:\", error);\n      }\n    };\n    init();\n  }, []);\n  const markAttendance = async () => {\n    if (!contract) {\n      console.error(\"Contract not connected!\");\n      return;\n    }\n    try {\n      console.log(\"Marking attendance for:\", account);\n      const tx = await contract.markAttendance(account);\n      await tx.wait();\n      alert(\"Attendance marked!\");\n      const newCount = await contract.getAttendance(account);\n      setAttendance(Number(newCount));\n      setStudents(prev => prev.map(student => student.address === account ? {\n        ...student,\n        count: Number(newCount)\n      } : student));\n    } catch (error) {\n      console.error(\"Error marking attendance:\", error);\n      alert(error.message || \"Failed to mark attendance!\");\n    }\n  };\n  const addStudent = async () => {\n    if (!contract) {\n      console.error(\"Contract not connected!\");\n      return;\n    }\n    if (!studentName || !studentAddress) {\n      alert(\"Please enter both a student name and address!\");\n      return;\n    }\n    if (!ethers.isAddress(studentAddress)) {\n      alert(\"Please enter a valid Ethereum address!\");\n      return;\n    }\n    try {\n      console.log(\"Adding student:\", studentAddress, \"with name:\", studentName);\n      const tx = await contract.addStudent(studentAddress, studentName);\n      await tx.wait();\n      alert(\"Student Added!\");\n      const studentData = await contract.students(studentAddress);\n      setStudents(prev => [...prev.filter(student => student.address !== studentAddress), {\n        address: studentAddress,\n        name: studentName,\n        count: Number(studentData.attendanceCount)\n      }]);\n      setStudentName(\"\");\n      setStudentAddress(\"\");\n    } catch (error) {\n      console.error(\"Error adding student:\", error);\n      alert(error.message || \"Failed to add student!\");\n    }\n  };\n  const removeStudent = async address => {\n    if (!contract) {\n      console.error(\"Contract not connected!\");\n      return;\n    }\n    try {\n      console.log(\"Removing student:\", address);\n      const tx = await contract.removeStudent(address);\n      await tx.wait();\n      alert(\"Student Removed!\");\n      setStudents(prev => prev.filter(student => student.address !== address));\n      if (address === account) setAttendance(0); // Reset if current account is removed\n    } catch (error) {\n      console.error(\"Error removing student:\", error);\n      alert(error.message || \"Failed to remove student!\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Attendance DApp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"account-info\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Account:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 20\n        }, this), \" \", account || \"Not connected\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: studentAddress,\n          onChange: e => setStudentAddress(e.target.value),\n          placeholder: \"Enter student address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: studentName,\n          onChange: e => setStudentName(e.target.value),\n          placeholder: \"Enter student name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addStudent,\n          children: \"Add Student\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: markAttendance,\n        children: \"Mark Attendance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"attendance-display\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Your Attendance:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 20\n        }, this), \" \", attendance]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"student-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Registered Students (\", students.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), students.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No students added yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }, this) : students.map((student, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"student-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [student.name, \" (\", student.address.slice(0, 6), \"...\", student.address.slice(-4), \"): \", student.count, \" attendances\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"remove-btn\",\n          onClick: () => removeStudent(student.address),\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 29\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n                .app-container {\n                    max-width: 800px;\n                    margin: 40px auto;\n                    padding: 20px;\n                    font-family: Arial, sans-serif;\n                    background-color: #f9f9f9;\n                    border-radius: 8px;\n                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n                }\n\n                h1 {\n                    text-align: center;\n                    color: #333;\n                    margin-bottom: 20px;\n                }\n\n                .account-info {\n                    background-color: #e9ecef;\n                    padding: 10px;\n                    border-radius: 5px;\n                    margin-bottom: 20px;\n                }\n\n                .account-info p {\n                    margin: 0;\n                    word-break: break-all;\n                }\n\n                .action-section {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 15px;\n                }\n\n                .input-group {\n                    display: flex;\n                    gap: 10px;\n                    align-items: center;\n                }\n\n                input {\n                    flex: 1;\n                    padding: 10px;\n                    font-size: 16px;\n                    border: 1px solid #ccc;\n                    border-radius: 4px;\n                    outline: none;\n                    transition: border-color 0.3s;\n                }\n\n                input:focus {\n                    border-color: #007bff;\n                }\n\n                button {\n                    padding: 10px 20px;\n                    font-size: 16px;\n                    background-color: #007bff;\n                    color: white;\n                    border: none;\n                    border-radius: 4px;\n                    cursor: pointer;\n                    transition: background-color 0.3s;\n                }\n\n                button:hover {\n                    background-color: #0056b3;\n                }\n\n                button:active {\n                    background-color: #004085;\n                }\n\n                .attendance-display {\n                    margin-top: 20px;\n                    text-align: center;\n                    padding: 10px;\n                    background-color: #d4edda;\n                    border-radius: 5px;\n                    color: #155724;\n                }\n\n                .student-list {\n                    margin-top: 20px;\n                    padding: 15px;\n                    background-color: #fff3cd;\n                    border-radius: 5px;\n                }\n\n                .student-list h2 {\n                    font-size: 18px;\n                    color: #856404;\n                    margin-bottom: 10px;\n                }\n\n                .student-item {\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                    margin: 5px 0;\n                }\n\n                .student-item p {\n                    margin: 0;\n                    color: #856404;\n                    word-break: break-all;\n                    flex: 1;\n                }\n\n                .remove-btn {\n                    background-color: #dc3545;\n                    padding: 5px 10px;\n                    font-size: 14px;\n                }\n\n                .remove-btn:hover {\n                    background-color: #c82333;\n                }\n\n                .remove-btn:active {\n                    background-color: #bd2130;\n                }\n\n                /* Responsive Design */\n                @media (max-width: 480px) {\n                    .app-container {\n                        margin: 20px;\n                        padding: 15px;\n                    }\n\n                    .input-group {\n                        flex-direction: column;\n                    }\n\n                    button {\n                        width: 100%;\n                    }\n\n                    .student-item {\n                        flex-direction: column;\n                        align-items: flex-start;\n                    }\n\n                    .remove-btn {\n                        width: auto;\n                        margin-top: 5px;\n                    }\n                }\n            `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"85PuFL/dqcF4xHkp4kxZSB4v7GU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","ethers","AttendanceABI","jsxDEV","_jsxDEV","CONTRACT_ADDRESS","App","_s","contract","setContract","account","setAccount","attendance","setAttendance","studentName","setStudentName","studentAddress","setStudentAddress","students","setStudents","init","window","ethereum","provider","BrowserProvider","request","method","signer","getSigner","contractInstance","Contract","abi","userAccount","getAddress","initialAttendance","getAttendance","Number","studentCount","getStudentCount","fetchedStudents","i","addr","studentAddresses","data","push","address","name","count","attendanceCount","console","error","markAttendance","log","tx","wait","alert","newCount","prev","map","student","message","addStudent","isAddress","studentData","filter","removeStudent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","length","index","slice","_c","$RefreshReg$"],"sources":["/Users/danreid/Library/CloudStorage/OneDrive-UniversityofEastLondon/Year 3/cn6035 - Mobile and Distributed Systems/Coursework/attendance-dapp/frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport AttendanceABI from './Attendance.json';\n\n// Update this with your deployed contract address!\nconst CONTRACT_ADDRESS = \"0xb7f8bc63bbcad18155201308c8f3540b07f84f5e\";\n\nconst App = () => {\n    const [contract, setContract] = useState(null);\n    const [account, setAccount] = useState(\"\");\n    const [attendance, setAttendance] = useState(0);\n    const [studentName, setStudentName] = useState(\"\");\n    const [studentAddress, setStudentAddress] = useState(\"\");\n    const [students, setStudents] = useState([]);\n\n    useEffect(() => {\n        const init = async () => {\n            try {\n                if (window.ethereum) {\n                    const provider = new ethers.BrowserProvider(window.ethereum);\n                    await window.ethereum.request({ method: 'eth_requestAccounts' });\n                    const signer = await provider.getSigner();\n                    const contractInstance = new ethers.Contract(\n                        CONTRACT_ADDRESS,\n                        AttendanceABI.abi,\n                        signer\n                    );\n                    \n                    setContract(contractInstance);\n                    const userAccount = await signer.getAddress();\n                    setAccount(userAccount);\n\n                    const initialAttendance = await contractInstance.getAttendance(userAccount);\n                    setAttendance(Number(initialAttendance));\n\n                    // Fetch all students\n                    const studentCount = Number(await contractInstance.getStudentCount());\n                    const fetchedStudents = [];\n                    for (let i = 0; i < studentCount; i++) {\n                        const addr = await contractInstance.studentAddresses(i);\n                        const data = await contractInstance.students(addr);\n                        fetchedStudents.push({\n                            address: addr,\n                            name: data.name,\n                            count: Number(data.attendanceCount)\n                        });\n                    }\n                    setStudents(fetchedStudents);\n                } else {\n                    console.error(\"Ethereum provider not found. Please install MetaMask.\");\n                }\n            } catch (error) {\n                console.error(\"Initialization error:\", error);\n            }\n        };\n\n        init();\n    }, []);\n\n    const markAttendance = async () => {\n        if (!contract) {\n            console.error(\"Contract not connected!\");\n            return;\n        }\n\n        try {\n            console.log(\"Marking attendance for:\", account);\n            const tx = await contract.markAttendance(account);\n            await tx.wait();\n            alert(\"Attendance marked!\");\n\n            const newCount = await contract.getAttendance(account);\n            setAttendance(Number(newCount));\n\n            setStudents(prev =>\n                prev.map(student =>\n                    student.address === account\n                        ? { ...student, count: Number(newCount) }\n                        : student\n                )\n            );\n        } catch (error) {\n            console.error(\"Error marking attendance:\", error);\n            alert(error.message || \"Failed to mark attendance!\");\n        }\n    };\n\n    const addStudent = async () => {\n        if (!contract) {\n            console.error(\"Contract not connected!\");\n            return;\n        }\n        if (!studentName || !studentAddress) {\n            alert(\"Please enter both a student name and address!\");\n            return;\n        }\n        if (!ethers.isAddress(studentAddress)) {\n            alert(\"Please enter a valid Ethereum address!\");\n            return;\n        }\n\n        try {\n            console.log(\"Adding student:\", studentAddress, \"with name:\", studentName);\n            const tx = await contract.addStudent(studentAddress, studentName);\n            await tx.wait();\n            alert(\"Student Added!\");\n\n            const studentData = await contract.students(studentAddress);\n            setStudents(prev => [\n                ...prev.filter(student => student.address !== studentAddress),\n                { address: studentAddress, name: studentName, count: Number(studentData.attendanceCount) }\n            ]);\n            setStudentName(\"\");\n            setStudentAddress(\"\");\n        } catch (error) {\n            console.error(\"Error adding student:\", error);\n            alert(error.message || \"Failed to add student!\");\n        }\n    };\n\n    const removeStudent = async (address) => {\n        if (!contract) {\n            console.error(\"Contract not connected!\");\n            return;\n        }\n\n        try {\n            console.log(\"Removing student:\", address);\n            const tx = await contract.removeStudent(address);\n            await tx.wait();\n            alert(\"Student Removed!\");\n\n            setStudents(prev => prev.filter(student => student.address !== address));\n            if (address === account) setAttendance(0); // Reset if current account is removed\n        } catch (error) {\n            console.error(\"Error removing student:\", error);\n            alert(error.message || \"Failed to remove student!\");\n        }\n    };\n\n    return (\n        <div className=\"app-container\">\n            <h1>Attendance DApp</h1>\n            <div className=\"account-info\">\n                <p><strong>Account:</strong> {account || \"Not connected\"}</p>\n            </div>\n            <div className=\"action-section\">\n                <div className=\"input-group\">\n                    <input\n                        type=\"text\"\n                        value={studentAddress}\n                        onChange={(e) => setStudentAddress(e.target.value)}\n                        placeholder=\"Enter student address\"\n                    />\n                    <input\n                        type=\"text\"\n                        value={studentName}\n                        onChange={(e) => setStudentName(e.target.value)}\n                        placeholder=\"Enter student name\"\n                    />\n                    <button onClick={addStudent}>Add Student</button>\n                </div>\n                <button onClick={markAttendance}>Mark Attendance</button>\n            </div>\n            <div className=\"attendance-display\">\n                <p><strong>Your Attendance:</strong> {attendance}</p>\n            </div>\n            <div className=\"student-list\">\n                <h2>Registered Students ({students.length})</h2>\n                {students.length === 0 ? (\n                    <p>No students added yet.</p>\n                ) : (\n                    students.map((student, index) => (\n                        <div key={index} className=\"student-item\">\n                            <p>\n                                {student.name} ({student.address.slice(0, 6)}...{student.address.slice(-4)}): {student.count} attendances\n                            </p>\n                            <button className=\"remove-btn\" onClick={() => removeStudent(student.address)}>\n                                Remove\n                            </button>\n                        </div>\n                    ))\n                )}\n            </div>\n\n            {/* Inline CSS */}\n            <style>{`\n                .app-container {\n                    max-width: 800px;\n                    margin: 40px auto;\n                    padding: 20px;\n                    font-family: Arial, sans-serif;\n                    background-color: #f9f9f9;\n                    border-radius: 8px;\n                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n                }\n\n                h1 {\n                    text-align: center;\n                    color: #333;\n                    margin-bottom: 20px;\n                }\n\n                .account-info {\n                    background-color: #e9ecef;\n                    padding: 10px;\n                    border-radius: 5px;\n                    margin-bottom: 20px;\n                }\n\n                .account-info p {\n                    margin: 0;\n                    word-break: break-all;\n                }\n\n                .action-section {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 15px;\n                }\n\n                .input-group {\n                    display: flex;\n                    gap: 10px;\n                    align-items: center;\n                }\n\n                input {\n                    flex: 1;\n                    padding: 10px;\n                    font-size: 16px;\n                    border: 1px solid #ccc;\n                    border-radius: 4px;\n                    outline: none;\n                    transition: border-color 0.3s;\n                }\n\n                input:focus {\n                    border-color: #007bff;\n                }\n\n                button {\n                    padding: 10px 20px;\n                    font-size: 16px;\n                    background-color: #007bff;\n                    color: white;\n                    border: none;\n                    border-radius: 4px;\n                    cursor: pointer;\n                    transition: background-color 0.3s;\n                }\n\n                button:hover {\n                    background-color: #0056b3;\n                }\n\n                button:active {\n                    background-color: #004085;\n                }\n\n                .attendance-display {\n                    margin-top: 20px;\n                    text-align: center;\n                    padding: 10px;\n                    background-color: #d4edda;\n                    border-radius: 5px;\n                    color: #155724;\n                }\n\n                .student-list {\n                    margin-top: 20px;\n                    padding: 15px;\n                    background-color: #fff3cd;\n                    border-radius: 5px;\n                }\n\n                .student-list h2 {\n                    font-size: 18px;\n                    color: #856404;\n                    margin-bottom: 10px;\n                }\n\n                .student-item {\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                    margin: 5px 0;\n                }\n\n                .student-item p {\n                    margin: 0;\n                    color: #856404;\n                    word-break: break-all;\n                    flex: 1;\n                }\n\n                .remove-btn {\n                    background-color: #dc3545;\n                    padding: 5px 10px;\n                    font-size: 14px;\n                }\n\n                .remove-btn:hover {\n                    background-color: #c82333;\n                }\n\n                .remove-btn:active {\n                    background-color: #bd2130;\n                }\n\n                /* Responsive Design */\n                @media (max-width: 480px) {\n                    .app-container {\n                        margin: 20px;\n                        padding: 15px;\n                    }\n\n                    .input-group {\n                        flex-direction: column;\n                    }\n\n                    button {\n                        width: 100%;\n                    }\n\n                    .student-item {\n                        flex-direction: column;\n                        align-items: flex-start;\n                    }\n\n                    .remove-btn {\n                        width: auto;\n                        margin-top: 5px;\n                    }\n                }\n            `}</style>\n        </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC;AAEd,CAAC;AAAChE,EAAA,CA3UID,GAAG;AAAA4E,EAAA,GAAH5E,GAAG;AA6UT,eAAeA,GAAG;AAAC,IAAA4E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}