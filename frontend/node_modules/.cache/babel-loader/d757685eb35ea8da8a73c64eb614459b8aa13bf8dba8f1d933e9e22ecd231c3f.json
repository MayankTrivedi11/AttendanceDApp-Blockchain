{"ast":null,"code":"var _jsxFileName = \"/Users/danreid/Library/CloudStorage/OneDrive-UniversityofEastLondon/Year 3/cn6035 - Mobile and Distributed Systems/Coursework/attendance-dapp/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport AttendanceABI from './Attendance.json';\n\n// Update this with your deployed contract address!\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CONTRACT_ADDRESS = \"0x5fc8d32690cc91d4c39d9d3abcbd16989f875707\";\nconst App = () => {\n  _s();\n  const [contract, setContract] = useState(null);\n  const [account, setAccount] = useState(\"\");\n  const [attendance, setAttendance] = useState(0);\n  const [studentName, setStudentName] = useState(\"\");\n  const [students, setStudents] = useState([]);\n  const [searchAddress, setSearchAddress] = useState(\"\");\n  useEffect(() => {\n    const init = async () => {\n      try {\n        if (window.ethereum) {\n          const provider = new ethers.BrowserProvider(window.ethereum);\n          await window.ethereum.request({\n            method: 'eth_requestAccounts'\n          });\n          const signer = await provider.getSigner();\n          const contractInstance = new ethers.Contract(CONTRACT_ADDRESS, AttendanceABI.abi, signer);\n          setContract(contractInstance);\n          const userAccount = await signer.getAddress();\n          setAccount(userAccount);\n          const initialAttendance = await contractInstance.getAttendance(userAccount);\n          setAttendance(Number(initialAttendance));\n\n          // Fetch initial student data for the connected account\n          const studentData = await contractInstance.students(userAccount);\n          if (studentData.wallet !== ethers.ZeroAddress) {\n            setStudents([{\n              address: userAccount,\n              name: studentData.name,\n              count: Number(studentData.attendanceCount)\n            }]);\n          }\n        } else {\n          console.error(\"Ethereum provider not found. Please install MetaMask.\");\n        }\n      } catch (error) {\n        console.error(\"Initialization error:\", error);\n      }\n    };\n    init();\n  }, []);\n  const markAttendance = async () => {\n    if (!contract) {\n      console.error(\"Contract not connected!\");\n      return;\n    }\n    try {\n      console.log(\"Marking attendance for:\", account);\n      const tx = await contract.markAttendance(account);\n      await tx.wait();\n      alert(\"Attendance marked!\");\n      const newCount = await contract.getAttendance(account);\n      setAttendance(Number(newCount));\n\n      // Update student list\n      const studentData = await contract.students(account);\n      setStudents(prev => prev.map(student => student.address === account ? {\n        ...student,\n        count: Number(studentData.attendanceCount)\n      } : student));\n    } catch (error) {\n      console.error(\"Error marking attendance:\", error);\n      alert(error.message || \"Failed to mark attendance!\");\n    }\n  };\n  const addStudent = async () => {\n    if (!contract) {\n      console.error(\"Contract not connected!\");\n      return;\n    }\n    if (!studentName) {\n      alert(\"Please enter a student name!\");\n      return;\n    }\n    try {\n      console.log(\"Adding student:\", account, \"with name:\", studentName);\n      const tx = await contract.addStudent(account, studentName);\n      await tx.wait();\n      alert(\"Student Added!\");\n\n      // Update student list\n      const studentData = await contract.students(account);\n      setStudents(prev => [...prev.filter(student => student.address !== account),\n      // Remove if already exists\n      {\n        address: account,\n        name: studentName,\n        count: Number(studentData.attendanceCount)\n      }]);\n      setStudentName(\"\");\n    } catch (error) {\n      console.error(\"Error adding student:\", error);\n      alert(error.message || \"Failed to add student!\");\n    }\n  };\n  const fetchStudent = async () => {\n    if (!contract || !searchAddress) {\n      alert(\"Please enter a valid address!\");\n      return;\n    }\n    try {\n      const studentData = await contract.students(searchAddress);\n      if (studentData.wallet === ethers.ZeroAddress) {\n        alert(\"No student found at this address!\");\n        return;\n      }\n      setStudents(prev => [...prev.filter(student => student.address !== searchAddress),\n      // Avoid duplicates\n      {\n        address: searchAddress,\n        name: studentData.name,\n        count: Number(studentData.attendanceCount)\n      }]);\n      setSearchAddress(\"\");\n    } catch (error) {\n      console.error(\"Error fetching student:\", error);\n      alert(error.message || \"Failed to fetch student!\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Attendance DApp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"account-info\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Account:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 20\n        }, this), \" \", account || \"Not connected\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: studentName,\n          onChange: e => setStudentName(e.target.value),\n          placeholder: \"Enter student name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addStudent,\n          children: \"Add Student\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: markAttendance,\n        children: \"Mark Attendance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: searchAddress,\n          onChange: e => setSearchAddress(e.target.value),\n          placeholder: \"Enter address to fetch student\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchStudent,\n          children: \"Fetch Student\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"attendance-display\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Your Attendance:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 20\n        }, this), \" \", attendance]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"student-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Registered Students\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), students.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No students added yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }, this) : students.map((student, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [student.name, \" (\", student.address.slice(0, 6), \"...\", student.address.slice(-4), \"): \", student.count, \" attendances\"]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 25\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n                .app-container {\n                    max-width: 700px;\n                    margin: 40px auto;\n                    padding: 20px;\n                    font-family: Arial, sans-serif;\n                    background-color: #f9f9f9;\n                    border-radius: 8px;\n                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n                }\n\n                h1 {\n                    text-align: center;\n                    color: #333;\n                    margin-bottom: 20px;\n                }\n\n                .account-info {\n                    background-color: #e9ecef;\n                    padding: 10px;\n                    border-radius: 5px;\n                    margin-bottom: 20px;\n                }\n\n                .account-info p {\n                    margin: 0;\n                    word-break: break-all;\n                }\n\n                .action-section {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 15px;\n                }\n\n                .input-group {\n                    display: flex;\n                    gap: 10px;\n                }\n\n                input {\n                    flex: 1;\n                    padding: 10px;\n                    font-size: 16px;\n                    border: 1px solid #ccc;\n                    border-radius: 4px;\n                    outline: none;\n                    transition: border-color 0.3s;\n                }\n\n                input:focus {\n                    border-color: #007bff;\n                }\n\n                button {\n                    padding: 10px 20px;\n                    font-size: 16px;\n                    background-color: #007bff;\n                    color: white;\n                    border: none;\n                    border-radius: 4px;\n                    cursor: pointer;\n                    transition: background-color 0.3s;\n                }\n\n                button:hover {\n                    background-color: #0056b3;\n                }\n\n                button:active {\n                    background-color: #004085;\n                }\n\n                .attendance-display {\n                    margin-top: 20px;\n                    text-align: center;\n                    padding: 10px;\n                    background-color: #d4edda;\n                    border-radius: 5px;\n                    color: #155724;\n                }\n\n                .student-list {\n                    margin-top: 20px;\n                    padding: 15px;\n                    background-color: #fff3cd;\n                    border-radius: 5px;\n                }\n\n                .student-list h2 {\n                    font-size: 18px;\n                    color: #856404;\n                    margin-bottom: 10px;\n                }\n\n                .student-list p {\n                    margin: 5px 0;\n                    color: #856404;\n                    word-break: break-all;\n                }\n\n                /* Responsive Design */\n                @media (max-width: 480px) {\n                    .app-container {\n                        margin: 20px;\n                        padding: 15px;\n                    }\n\n                    .input-group {\n                        flex-direction: column;\n                    }\n\n                    button {\n                        width: 100%;\n                    }\n\n                    .student-list p {\n                        font-size: 14px;\n                    }\n                }\n            `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"3QAB5378MVhmFEqUNWCCnmt9WG4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","ethers","AttendanceABI","jsxDEV","_jsxDEV","CONTRACT_ADDRESS","App","_s","contract","setContract","account","setAccount","attendance","setAttendance","studentName","setStudentName","students","setStudents","searchAddress","setSearchAddress","init","window","ethereum","provider","BrowserProvider","request","method","signer","getSigner","contractInstance","Contract","abi","userAccount","getAddress","initialAttendance","getAttendance","Number","studentData","wallet","ZeroAddress","address","name","count","attendanceCount","console","error","markAttendance","log","tx","wait","alert","newCount","prev","map","student","message","addStudent","filter","fetchStudent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","length","index","slice","_c","$RefreshReg$"],"sources":["/Users/danreid/Library/CloudStorage/OneDrive-UniversityofEastLondon/Year 3/cn6035 - Mobile and Distributed Systems/Coursework/attendance-dapp/frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport AttendanceABI from './Attendance.json';\n\n// Update this with your deployed contract address!\nconst CONTRACT_ADDRESS = \"0x5fc8d32690cc91d4c39d9d3abcbd16989f875707\";\n\nconst App = () => {\n    const [contract, setContract] = useState(null);\n    const [account, setAccount] = useState(\"\");\n    const [attendance, setAttendance] = useState(0);\n    const [studentName, setStudentName] = useState(\"\");\n    const [students, setStudents] = useState([]);\n    const [searchAddress, setSearchAddress] = useState(\"\");\n\n    useEffect(() => {\n        const init = async () => {\n            try {\n                if (window.ethereum) {\n                    const provider = new ethers.BrowserProvider(window.ethereum);\n                    await window.ethereum.request({ method: 'eth_requestAccounts' });\n                    const signer = await provider.getSigner();\n                    const contractInstance = new ethers.Contract(\n                        CONTRACT_ADDRESS,\n                        AttendanceABI.abi,\n                        signer\n                    );\n                    \n                    setContract(contractInstance);\n                    const userAccount = await signer.getAddress();\n                    setAccount(userAccount);\n\n                    const initialAttendance = await contractInstance.getAttendance(userAccount);\n                    setAttendance(Number(initialAttendance));\n\n                    // Fetch initial student data for the connected account\n                    const studentData = await contractInstance.students(userAccount);\n                    if (studentData.wallet !== ethers.ZeroAddress) {\n                        setStudents([{\n                            address: userAccount,\n                            name: studentData.name,\n                            count: Number(studentData.attendanceCount)\n                        }]);\n                    }\n                } else {\n                    console.error(\"Ethereum provider not found. Please install MetaMask.\");\n                }\n            } catch (error) {\n                console.error(\"Initialization error:\", error);\n            }\n        };\n\n        init();\n    }, []);\n\n    const markAttendance = async () => {\n        if (!contract) {\n            console.error(\"Contract not connected!\");\n            return;\n        }\n\n        try {\n            console.log(\"Marking attendance for:\", account);\n            const tx = await contract.markAttendance(account);\n            await tx.wait();\n            alert(\"Attendance marked!\");\n\n            const newCount = await contract.getAttendance(account);\n            setAttendance(Number(newCount));\n\n            // Update student list\n            const studentData = await contract.students(account);\n            setStudents(prev => \n                prev.map(student => \n                    student.address === account \n                        ? { ...student, count: Number(studentData.attendanceCount) }\n                        : student\n                )\n            );\n        } catch (error) {\n            console.error(\"Error marking attendance:\", error);\n            alert(error.message || \"Failed to mark attendance!\");\n        }\n    };\n\n    const addStudent = async () => {\n        if (!contract) {\n            console.error(\"Contract not connected!\");\n            return;\n        }\n        if (!studentName) {\n            alert(\"Please enter a student name!\");\n            return;\n        }\n\n        try {\n            console.log(\"Adding student:\", account, \"with name:\", studentName);\n            const tx = await contract.addStudent(account, studentName);\n            await tx.wait();\n            alert(\"Student Added!\");\n\n            // Update student list\n            const studentData = await contract.students(account);\n            setStudents(prev => [\n                ...prev.filter(student => student.address !== account), // Remove if already exists\n                { address: account, name: studentName, count: Number(studentData.attendanceCount) }\n            ]);\n            setStudentName(\"\");\n        } catch (error) {\n            console.error(\"Error adding student:\", error);\n            alert(error.message || \"Failed to add student!\");\n        }\n    };\n\n    const fetchStudent = async () => {\n        if (!contract || !searchAddress) {\n            alert(\"Please enter a valid address!\");\n            return;\n        }\n\n        try {\n            const studentData = await contract.students(searchAddress);\n            if (studentData.wallet === ethers.ZeroAddress) {\n                alert(\"No student found at this address!\");\n                return;\n            }\n\n            setStudents(prev => [\n                ...prev.filter(student => student.address !== searchAddress), // Avoid duplicates\n                { \n                    address: searchAddress, \n                    name: studentData.name, \n                    count: Number(studentData.attendanceCount) \n                }\n            ]);\n            setSearchAddress(\"\");\n        } catch (error) {\n            console.error(\"Error fetching student:\", error);\n            alert(error.message || \"Failed to fetch student!\");\n        }\n    };\n\n    return (\n        <div className=\"app-container\">\n            <h1>Attendance DApp</h1>\n            <div className=\"account-info\">\n                <p><strong>Account:</strong> {account || \"Not connected\"}</p>\n            </div>\n            <div className=\"action-section\">\n                <div className=\"input-group\">\n                    <input\n                        type=\"text\"\n                        value={studentName}\n                        onChange={(e) => setStudentName(e.target.value)}\n                        placeholder=\"Enter student name\"\n                    />\n                    <button onClick={addStudent}>Add Student</button>\n                </div>\n                <button onClick={markAttendance}>Mark Attendance</button>\n                <div className=\"input-group\">\n                    <input\n                        type=\"text\"\n                        value={searchAddress}\n                        onChange={(e) => setSearchAddress(e.target.value)}\n                        placeholder=\"Enter address to fetch student\"\n                    />\n                    <button onClick={fetchStudent}>Fetch Student</button>\n                </div>\n            </div>\n            <div className=\"attendance-display\">\n                <p><strong>Your Attendance:</strong> {attendance}</p>\n            </div>\n            <div className=\"student-list\">\n                <h2>Registered Students</h2>\n                {students.length === 0 ? (\n                    <p>No students added yet.</p>\n                ) : (\n                    students.map((student, index) => (\n                        <p key={index}>\n                            {student.name} ({student.address.slice(0, 6)}...{student.address.slice(-4)}): {student.count} attendances\n                        </p>\n                    ))\n                )}\n            </div>\n\n            {/* Inline CSS */}\n            <style>{`\n                .app-container {\n                    max-width: 700px;\n                    margin: 40px auto;\n                    padding: 20px;\n                    font-family: Arial, sans-serif;\n                    background-color: #f9f9f9;\n                    border-radius: 8px;\n                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n                }\n\n                h1 {\n                    text-align: center;\n                    color: #333;\n                    margin-bottom: 20px;\n                }\n\n                .account-info {\n                    background-color: #e9ecef;\n                    padding: 10px;\n                    border-radius: 5px;\n                    margin-bottom: 20px;\n                }\n\n                .account-info p {\n                    margin: 0;\n                    word-break: break-all;\n                }\n\n                .action-section {\n                    display: flex;\n                    flex-direction: column;\n                    gap: 15px;\n                }\n\n                .input-group {\n                    display: flex;\n                    gap: 10px;\n                }\n\n                input {\n                    flex: 1;\n                    padding: 10px;\n                    font-size: 16px;\n                    border: 1px solid #ccc;\n                    border-radius: 4px;\n                    outline: none;\n                    transition: border-color 0.3s;\n                }\n\n                input:focus {\n                    border-color: #007bff;\n                }\n\n                button {\n                    padding: 10px 20px;\n                    font-size: 16px;\n                    background-color: #007bff;\n                    color: white;\n                    border: none;\n                    border-radius: 4px;\n                    cursor: pointer;\n                    transition: background-color 0.3s;\n                }\n\n                button:hover {\n                    background-color: #0056b3;\n                }\n\n                button:active {\n                    background-color: #004085;\n                }\n\n                .attendance-display {\n                    margin-top: 20px;\n                    text-align: center;\n                    padding: 10px;\n                    background-color: #d4edda;\n                    border-radius: 5px;\n                    color: #155724;\n                }\n\n                .student-list {\n                    margin-top: 20px;\n                    padding: 15px;\n                    background-color: #fff3cd;\n                    border-radius: 5px;\n                }\n\n                .student-list h2 {\n                    font-size: 18px;\n                    color: #856404;\n                    margin-bottom: 10px;\n                }\n\n                .student-list p {\n                    margin: 5px 0;\n                    color: #856404;\n                    word-break: break-all;\n                }\n\n                /* Responsive Design */\n                @media (max-width: 480px) {\n                    .app-container {\n                        margin: 20px;\n                        padding: 15px;\n                    }\n\n                    .input-group {\n                        flex-direction: column;\n                    }\n\n                    button {\n                        width: 100%;\n                    }\n\n                    .student-list p {\n                        font-size: 14px;\n                    }\n                }\n            `}</style>\n        </div>\n    );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}